<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- import bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
</head>

<body>
  <%- include('partials/header.ejs'); %>
  Hello <%= x %>!
  <h1> Protected Route </h1>
  <br>
  <img src="<%= y %>" />

  <% if (isAdmin) { %>
  <h2> Only admins can see this</h2>
  <% } %>


  <ul>
    <% todos.forEach(function(todoItem){ %>
    <li>
      <ul>
        <li>
          <%= todoItem.name  %>
        </li>
        <li>
          <%= todoItem.done  %>
        </li>
        <li>
          <form action="deleteTodoItem" method="POST">
            <input type="hidden" name="x" value="<%= todoItem.name  %>"> </input>
            <input type="submit" value="Delete">
          </form>
        </li>
        <li>
          <form action="flipTodoItem" method="POST">
            <input type="hidden" name="x" value="<%= todoItem.name  %>"> </input>
            <input type="submit" value="Flip">
          </form>
        </li>
      </ul>
    </li>
    </li>
    <% }); %>
  </ul>

  <form action="addNewToDoItem" method="POST">
    <label for="x"> Add new list item </label>
    <input type="text" id="x" name="newItemLabel"> </input>
    <input type="submit" value="Add">
  </form>

  <%- include('partials/footer.ejs'); %>
</body>

</html>